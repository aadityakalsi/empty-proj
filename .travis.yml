language: cpp

os:
  - linux
  - osx

compiler:
  - gcc
  - clang

env:
  - BTYPE="Debug"
  - BTYPE="Release"

install:
  - ./travis_setup
  # We use gcc-4.8
  - if [ ${CC} = "gcc" ]; then export CC="gcc-4.8" && export CXX="g++-4.8"; fi

script:
  - echo y | tools/build $BTYPE

after_success:
  - if [ ${BTYPE} = "Release" ]; then tools/test_on_install Release; fi

notifications:
  email:
    recipients:
      - akalsi.dev@gmail.com
